<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda - Productos Saludables</title>
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>

    <!-- Barra de navegación -->
    <nav class="navbar">
        <div class="nav-left">
            <img class="logo" src="img/Logo.png" alt="Logo">
            <div class="Marca">NutriLectura</div>
        </div>
        
        <ul class="nav-links">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="tienda.html" class="active">Tienda</a></li>
            <li><a href="acerca_de_nostros.html">Acerca de Nosotros</a></li>
            <li><a href="contacto.html">Contacto</a></li>
        </ul>

        <div class="nav-right">
            <a href="#"><img src="img/Facebook.png" alt="Facebook"></a>      
            <a href="#"><img src="img/X.png" alt="X-twitter"></a>
            <a href="#"><img src="img/instagram.png" alt="instagram"></a>
            <div class="nav-cart">
                <img src="img/Carro.png" alt="Carrito" id="icono-carrito">
                <span id="contador-carrito">0</span>
                
                <!-- Menú desplegable del carrito -->
                <div class="carrito-dropdown" id="carrito-dropdown">
                    <h4>Carrito de Compras</h4>
                    <ul id="lista-carrito"></ul>
                    <button onclick="vaciarCarrito()">Vaciar Carrito</button>
                </div>
            </div>
        </div>
        <!-- Ícono del carrito en la barra de navegación -->

    </nav>
    <br>
            <!-- Sección de Tienda -->
            <h1>Tienda de Recetas Saludables</h1>
            <br>
             <div class="filtro">
                 <label for="filtroCategoria">Filtrar por categoría:</label>
                 <select id="filtroCategoria" onchange="filtrarProductos()">
                     <option value="todos">Todos</option>
                     <option value="veganas">Recetas Veganas</option>
                     <option value="sin_gluten">Recetas Sin Gluten</option>
                     <option value="keto">Recetas Keto</option>
                     <option value="mas_vendidos">Más Vendidos</option>
                     <option value="otros">Otras Recetas</option>
                 </select>

             </div>
        <div class="tienda_productos">
            <!-- 20 Productos -->
            <script>
                const productos = [
                { nombre: "Recetas Veganas", precio: 45000, img: "img/producto1.png", categoria: "veganas" },
                { nombre: "Recetas Sin Gluten", precio: 48000, img: "img/producto1.png", categoria: "sin_gluten" },
                { nombre: "Recetas Keto", precio: 50000, img: "img/producto1.png", categoria: "keto" },
                { nombre: "Recetas Mediterráneas", precio: 52000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas Para Deportistas", precio: 55000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas Detox", precio: 47000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas Bajas en Azúcar", precio: 49000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas Sin Lactosa", precio: 53000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas Orgánicas", precio: 51000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas Rápidas y Saludables", precio: 50000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas de Batidos", precio: 46000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas para Niños", precio: 49000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas para Vegetarianos", precio: 47000, img: "img/producto1.png", categoria: "veganas" },
                { nombre: "Recetas Gourmet Saludables", precio: 60000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas de Ensaladas", precio: 43000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas de Platos Principales", precio: 58000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas para el Corazón", precio: 52000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas para Adelgazar", precio: 54000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas para el Sistema Inmune", precio: 51000, img: "img/producto1.png", categoria: "otros" },
                { nombre: "Recetas Vegetarianas Gourmet", precio: 59000, img: "img/producto1.png", categoria: "veganas" }
                ];

                
                const masVendidos = [
            "Recetas Sin Gluten",
            "Recetas Keto",
            "Recetas Para Deportistas",
            "Recetas Bajas en Azúcar",
            "Recetas Vegetarianas Gourmet"
        ];

        function mostrarProductos(lista) {
            const contenedor = document.querySelector(".tienda_productos");
            contenedor.innerHTML = "";
            lista.forEach(producto => {
                contenedor.innerHTML += `
                    <div class="producto">
                        <img src="${producto.img}" alt="${producto.nombre}">
                        <h3>${producto.nombre}</h3>
                        <span class="precio">$${producto.precio.toLocaleString('es-CO')} COP</span>
                        <button class="btn-agregar">Agregar al carrito</button>
                    </div>
                `;
            });
        }

        function filtrarProductos() {
            const categoriaSeleccionada = document.getElementById("filtroCategoria").value;
            let productosFiltrados;

            if (categoriaSeleccionada === "todos") {
                productosFiltrados = productos;
            } else if (categoriaSeleccionada === "mas_vendidos") {
                productosFiltrados = productos.filter(p => masVendidos.includes(p.nombre));
            } else {
                productosFiltrados = productos.filter(p => p.categoria === categoriaSeleccionada);
            }

            mostrarProductos(productosFiltrados);
        }

        mostrarProductos(productos);
            </script>
            
        </div>
    </section>
    <br><br>
    <!-- PIE DE PÁGINA -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-info">
                <div class="footer-item">
                    <img src="img/ubicacion.png" alt="Ubicación">
                    <p><strong>Carra 00 N° 00-00 </strong><br>Ibagué Tolima </p>
                </div>
                <div class="footer-item">
                    <img src="img/Telefono.png" alt="Teléfono">
                    <p><strong>+57 300 000 0000</strong></p>
                </div>
                <div class="footer-item">
                    <img src="img/Gmail.png" alt="Email">
                    <p><a href="mailto:support@company.com">NutriLecturat@gmail.com</a></p>
                </div>
            </div>
    
            <div class="footer-about">
                <h3>Acerca de la empresa</h3>
                <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Eos, ut harum. Dolore voluptate, voluptas assumenda ipsum est explicabo mollitia ipsa fugiat possimus ut suscipit nulla quidem dolorum veritatis saepe at.
                </p>
                <div class="footer-social">
                    <a href="#"><img src="img/Facebook.png" alt="Facebook"></a>
                    <a href="#"><img src="img/X.png" alt="X-twitter"></a>
                    <a href="#"><img src="img/LinkedIn.png" alt="LinkedIn"></a>
                    <a href="#"><img src="img/git.png" alt="GitHub"></a>
                </div>
            </div>
        </div>
    </footer>
    <script>
        let carrito = [];

            // Cargar carrito desde localStorage al iniciar
            document.addEventListener("DOMContentLoaded", () => {
                cargarCarritoDesdeLocalStorage();

                document.querySelectorAll(".btn-agregar").forEach((boton, index) => {
                    boton.addEventListener("click", () => agregarAlCarrito(index));
                });

                document.getElementById("icono-carrito").addEventListener("click", toggleCarrito);
            });

            // Agregar producto al carrito
            function agregarAlCarrito(index) {
                const producto = productos[index];
                carrito.push(producto);
                actualizarCarrito();
                guardarCarritoEnLocalStorage();
            }

            // Actualizar visualmente el carrito
            function actualizarCarrito() {
                document.getElementById("contador-carrito").innerText = carrito.length;
                const listaCarrito = document.getElementById("lista-carrito");
                listaCarrito.innerHTML = "";

                carrito.forEach((producto, index) => {
                    listaCarrito.innerHTML += `<li>${producto.nombre} - $${producto.precio.toLocaleString()} 
                        <button onclick="eliminarDelCarrito(${index})">❌</button></li>`;
                });
            }

            // Eliminar un producto del carrito
            function eliminarDelCarrito(index) {
                carrito.splice(index, 1);
                actualizarCarrito();
                guardarCarritoEnLocalStorage();
            }

            // Vaciar el carrito
            function vaciarCarrito() {
                carrito = [];
                actualizarCarrito();
                guardarCarritoEnLocalStorage();
            }

            // Guardar carrito en localStorage
            function guardarCarritoEnLocalStorage() {
                localStorage.setItem("carrito", JSON.stringify(carrito));
            }

            // Cargar carrito desde localStorage
            function cargarCarritoDesdeLocalStorage() {
                const carritoGuardado = localStorage.getItem("carrito");
                if (carritoGuardado) {
                    carrito = JSON.parse(carritoGuardado);
                    actualizarCarrito();
                }
            }

            // Mostrar/Ocultar carrito
            function toggleCarrito() {
                const carritoDropdown = document.getElementById("carrito-dropdown");
                carritoDropdown.style.display = carritoDropdown.style.display === "block" ? "none" : "block";
            }


    </script>
    <style>
        /* Icono del carrito */
        .nav-cart {
            position: relative;
            cursor: pointer;
        }

        .nav-cart img {
            width: 40px;
            height: 40px;
        }
                #contador-carrito {
            background-color: red;
            color: white;
            font-size: 14px;
            border-radius: 50%;
            padding: 4px 8px;
            position: absolute;
            top: -5px;
            right: -10px;
        }

        /* Estilos del menú del carrito */
        .carrito-dropdown {
            display: none;
            position: absolute;
            right: 0;
            background: white;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
            width: 250px;
            padding: 10px;
            border-radius: 5px;
        }

        .carrito-dropdown h4 {
            margin: 0;
            text-align: center;
        }

        .carrito-dropdown ul {
            list-style: none;
            padding: 0;
        }

        .carrito-dropdown li {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
        }

        h1 {
            text-align: center;
            margin-top: 20px;
        }
            .filtro {
            margin-bottom: 20px;
        }
        
        .filtro select, .filtro button {
            padding: 8px;
            margin: 5px;
            font-size: 16px;
        }
        /* Sección de Tienda */
        .contenedor-tienda {
            text-align: center;
            padding: 25px;
        }

        .tienda_productos {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            justify-items: center;
            padding: 5px;
        }
        .producto {
            
            background: white;
            border: 1px solid #ddd;
            padding: 10px;
            width: 300px;
            height: 100%px;
            text-align: center;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .producto img {
            width: auto;
            border-radius: 10px;
            object-fit: cover;
        }

        .precio {
            font-weight: bold;
            color: #6b8e23;
        }

        .btn-agregar {
            background-color: #ffa500;
            border: none;
            padding: 10px;
            color: white;
            cursor: pointer;
            margin-top: 5px;
            width: 100%;
            border-radius: 5px;
        }

        .btn-agregar:hover {
            background-color: #ff8c00;
        }
    </style>

</body>
</html>
